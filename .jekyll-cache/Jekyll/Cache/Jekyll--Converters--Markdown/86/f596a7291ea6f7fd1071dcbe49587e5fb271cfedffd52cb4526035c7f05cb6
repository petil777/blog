I"‚$<h1 id="1-ë„ì»¤-ì„¤ì¹˜">1. ë„ì»¤ ì„¤ì¹˜</h1>
<ul>
  <li>https://docs.docker.com/engine/install/ubuntu/
    <ul>
      <li>2020ë…„ 8ì›” ê¸°ì¤€ìœ¼ë¡œ ìœ„ì˜ ê³µì‹ë¬¸ì„œëŒ€ë¡œ ë„ì»¤ë¥¼ ì„¤ì¹˜í•˜ë©´ ëœë‹¤.
        <ul>
          <li>Old version removeí•˜ê³ ì í•  ë•Œ</li>
          <li>$ sudo apt-get remove docker docker-engine docker.io containerd runc</li>
        </ul>
      </li>
    </ul>

    <ol>
      <li>Set up repository
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ sudo apt-get update  
 $ sudo apt-get install \
apt-transport-https \
ca-certificates \
curl \
gnupg-agent \
software-properties-common
</code></pre></div>        </div>
      </li>
      <li>Add Dockerâ€™s official GPG key:
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -    
 Verify that you now have the key with the fingerprint    
9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88, by searching for the last 8 characters of the fingerprint.
$ sudo apt-key fingerprint 0EBFCD88    
 pub   rsa4096 2017-02-22 [SCEA]  
     9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88  
uid           [ unknown] Docker Release (CE deb) &lt;docker@docker.com&gt;  
sub   rsa4096 2017-02-22 [S]  
</code></pre></div>        </div>
      </li>
      <li>repository ì¶”ê°€
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo add-apt-repository \
"deb [arch=amd64] https://download.docker.com/linux/ubuntu \
$(lsb_release -cs) \
stable"  
</code></pre></div>        </div>
      </li>
      <li>Install docker
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ sudo apt-get update  
 $ sudo apt-get install docker-ce docker-ce-cli containerd.io  
 
ì„¤ì¹˜ í™•ì¸  
 $ sudo docker run hello-world
</code></pre></div>        </div>
        <h1 id="2-nvidiaìš©-docker-ì„¤ì¹˜">2. Nvidiaìš© docker ì„¤ì¹˜</h1>
      </li>
    </ol>
  </li>
  <li><a href="https://github.com/NVIDIA/nvidia-docker">https://github.com/NVIDIA/nvidia-docker</a></li>
  <li>toolkit ë²„ì „ì„ ì„¤ì¹˜í•˜ë©´ nvidia-dockerëª…ë ¹ì–´ ëŒ€ì‹  ê·¸ëƒ¥ dockerë¡œ ì³ë„ ì ìš©ëœë‹¤ê³  í•œë‹¤.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
 Ubuntu 16.04/18.04/20.04, Debian Jessie/Stretch/Buster
# Add the package repositories
distribution=$(. /etc/os-release;echo $ID$VERSION_ID)
curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -
curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list

sudo apt-get update &amp;&amp; sudo apt-get install -y nvidia-container-toolkit
sudo systemctl restart docker
</code></pre></div></div>

<h2 id="sudo-docker">sudo docker</h2>
<ul>
  <li>ì²˜ìŒì—” sudo dockerëª…ë ¹ì–´ë¥¼ ì¨ì•¼ í•˜ë¯€ë¡œ ë²ˆê±°ë¡­ë‹¤.</li>
  <li>ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì ìš©í•˜ë©´ ì¬ë¡œê·¸ì¸ í›„ë¶€í„° ê·¸ëƒ¥ dockerë¡œ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ë„ ëœë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">$ sudo usermod -aG docker $USER</code></li>
</ul>

<h1 id="3-ë„ì»¤-ê¸°ë³¸-ì‚¬ìš©-ëª…ë ¹ì–´">3. ë„ì»¤ ê¸°ë³¸ ì‚¬ìš© ëª…ë ¹ì–´</h1>
<p>|ì˜µì…˜|example|ì„¤ëª…|
 |â€”|â€”|â€”|
 |  -p  |  -p 4000:4000 or -p 4000  | &lt; í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ í¬íŠ¸&gt; ë°”ì¸ë”©. ë²ˆí˜¸í•˜ë‚˜ë§Œ ëª…ì‹œí•˜ë©´  ì»¨í…Œì´ë„ˆ í¬íŠ¸ë§Œ ì§€ì •. ë†€ê³  ìˆëŠ” í˜¸ìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ í¬íŠ¸ì¤‘ í•˜ë‚˜ì™€ ì„ì˜ ë§¤ì¹­ë¨
 | -v | -v ${PWD}:/src|  í˜¸ìŠ¤íŠ¸ ìœ„ì¹˜ì™€ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œì˜ ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸. í˜¸ìŠ¤íŠ¸ ë””ë ‰í† ë¦¬ê°€ ìš°ì„ í•˜ì—¬ ë®ì–´ì”Œìš´ë‹¤.
 |-it| | ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ í„°ë¯¸ë„ ì‚¬ìš©í•˜ê³ ì í•  ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ ë¶™ì—¬ì£¼ë©´ ëœë‹¤.
 |â€“rm| | ì»¨í…Œì´ë„ˆëŠ” ì •ì§€ë˜ì–´ë„ stopìƒíƒœë¡œ ë‚¨ì•„ìˆë‹¤. ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë  ë•Œ ìë™ìœ¼ë¡œ ì§€ì›Œì£¼ë„ë¡ í•˜ëŠ” ì˜µì…˜
 |-d| | ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰. 
 | -e | -e PASSWORD=1234 | í•´ë‹¹ ì´ë¯¸ì§€ ë‚´ì—ì„œ ìš”êµ¬í•˜ëŠ” í™˜ê²½ë³€ìˆ˜ ì „ë‹¬
 |â€“network|  â€“net mynetwork | ì–´ ë–¤ ë„¤íŠ¸ì›Œí¬ë¡œ êµ¬ì„±í•  ì§€ ì„¤ì •. ì—†ìœ¼ë©´ host ë„¤íŠ¸ì›Œí¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì¡íŒë‹¤.
 |â€“name| â€“name mydb | ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ ì§€ì •. ë‚˜ì¤‘ì— ì»¨í…Œì´ë„ˆë¥¼ ì§€ìš°ê±°ë‚˜ í•  ë•Œ container idê°€ ì•„ë‹Œ ì´ë¦„ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</p>
<ul>
  <li>ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë°”ê¹¥ìœ¼ë¡œ ë‚˜ì˜¬ ë–„ ê·¸ëƒ¥ exití•˜ë©´ ì»¨í…Œì´ë„ˆê°€ ë©ˆì¶˜ë‹¤.</li>
  <li>CTRL+p , CTRL+q ë¥¼ ì°¨ë¡€ë¡œ ëˆŒëŸ¬ í„°ë¯¸ë„ì´ ì •ì§€ë˜ì§€ ì•Šì„ ì±„ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.</li>
</ul>

<hr />

<p># 4. ì»¨í…Œì´ë„ˆ ì˜ˆì œ</p>
<ul>
  <li>MYSQL ì»¨í…Œì´ë„ˆ</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">$ docker run -v "$PWD/data":/var/lib/mysql -p 3306:3306 --name mysql_db -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql</code><br />
<code class="language-plaintext highlighter-rouge">$ docker exec -it mysql_db bash</code></p>

<ul>
  <li>í•´ë‹¹ ì´ë¯¸ì§€ê°€ ì—†ì„ ê²½ìš° ìë™ìœ¼ë¡œ ì°¾ëŠ”ë‹¤. ì´ë¯¸ì§€ ë¶€í„° ë°›ê³  ì‹¶ìœ¼ë©´  docker pull <ì´ë¯¸ì§€ëª…> ì„ ì´ìš©í•œë‹¤.</ì´ë¯¸ì§€ëª…></li>
  <li>/var/lib/mysqlì€ mysql ì»¨í…Œì´ë„ˆì—ì„œ ê³µì‹ì ìœ¼ë¡œ ì§€ì •í•˜ê³  ìˆëŠ” ìœ„ì¹˜ì´ë‹¤.</li>
  <li>3306ë²ˆ í¬íŠ¸ë¥¼ ì„œë¡œ ë§¤ì¹­í–ˆìœ¼ë©° MYSQL_ROOT_PASSWORD í™˜ê²½ë³€ìˆ˜ë¥¼ ì»¨í…Œì´ë„ˆì— ë„˜ê²¨ì¤€ë‹¤.</li>
  <li>ë°±ê·¸ë¼ìš´ë“œ ì—ì„œ ì‹¤í–‰í•˜ê²Œ ë˜ë¯€ë¡œ ì»¨í…Œì´ë„ˆ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ê¸° ìœ„í•´ exec ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œ í›„ bash shellì„ ì“°ê¸°ìœ„í•´ bashë¥¼ ì…ë ¥í•œë‹¤.</li>
  <li>ë§Œì•½ í•œë²ˆì— ì‹¤í–‰í•˜ê³ ì í–ˆì„ ê²½ìš° -d ì˜µì…˜ì„ ë¹¼ê³  ì»¨í…Œì´ë„ˆ ë’¤ì— ë°”ë¡œ bash í˜¹ì€ /bin/bash ë¥¼ ì…ë ¥í•´ì£¼ë©´ ëœë‹¤.</li>
  <li>mysql ì»¨í…Œì´ë„ˆëŠ” ë‹¤ì–‘í•œ ì¢…ë¥˜ê°€ ìˆìœ¼ë©° ê²½ëŸ‰í™”ëœ ë²„ì „ì¸ mysql/mysql-server ì´ë¯¸ì§€ë¥¼ ì´ìš©í•˜ëŠ” ë“± ê¸°í˜¸ì— ë§ê²Œ ë‹¤ìš´ ê°€ëŠ¥í•˜ë‹¤</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mysql -u root -p  
	ì•„ê¹Œ ì‹œì‘ ì‹œ ìƒì„±í•œ MYSQL_ROOT_PASSWORD ì…ë ¥  
$ select host form mysql.user where user='root';  
	ì´ ì¿¼ë¦¬ ê²°ê³¼ì— %ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ rootê³„ì •ì— í•œí•´ì„œ ëª¨ë“  ì ‘ì†ì„ í—ˆìš©í•œë‹¤ê³  í•œë‹¤.

</code></pre></div></div>

<ul>
  <li>
    <p>MONGO DB ì»¨í…Œì´ë„ˆ
<code class="language-plaintext highlighter-rouge">$ docker run â€“name mongodb_db -v /home/test/mongodb/db:/data/db -d -p 27017:27017 mongo</code></p>

    <ul>
      <li>/data/dbëŠ” mongo ì»¨í…Œì´ë„ˆê°€ ì—­ì‹œ ê³µì‹ì ìœ¼ë¡œ ì§€ì •í•˜ê³  ìˆëŠ” ìœ„ì¹˜ì´ë‹¤.</li>
      <li>27017í¬íŠ¸ë¥¼ ë°”ì¸ë”© í•´ì¤˜ì•¼ í•˜ë©° ì—­ì‹œ bash ì ‘ê·¼ì„ ìœ„í•´ì„  docker exec -it mongodb_db bash ë¡œ ì ‘ê·¼í•œë‹¤.</li>
    </ul>
  </li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ê´€ë¦¬ì ê³„ì • ìƒì„±
$ use admin

$ db.createUser({
user:"admin",
pwd:"admin",
roles:[{role:"userAdminAnyDatabase", db:"admin"}]
})

ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ ë° ì¼ë°˜ ê³„ì • ìƒì„±
$ mongo -u â€œadminâ€ -p â€œadminâ€ â€“authenticationDatabase â€œadminâ€

$ use testdb
$ db.createUser({ user: â€œtesterâ€, pwd: â€œ1234â€, roles: [â€œdbAdminâ€, â€œreadWriteâ€] })

</code></pre></div></div>

<ul>
  <li>
    <p>VSCODE
 <code class="language-plaintext highlighter-rouge">$ docker run -it --name vsc -v ${PWD}/vscode:/home/coder/myproj -p 3000:3000 -p 8080:8080 -e PASSWORD=1234 codercom/code-server:latest</code></p>

    <ul>
      <li>/home/coder ì•ˆì—ì„œ ë‚´ê°€ ë§Œë“  í”„ë¡œì íŠ¸ ìœ„ì¹˜ë¥¼ ì—°ê²°í•˜ë©´ ëœë‹¤.</li>
    </ul>
  </li>
  <li>
    <p>tensorflow with jupyter</p>
  </li>
</ul>

<p>```$ docker run â€“gpus all -it â€“name mytf -v ${PWD}/tfdata:/tf -p 8888:8888 â€“network mynetwork <br />
tensorflow/tensorflow:latest-gpu-jupyter</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  - /tf ë””ë ‰í† ë¦¬ê°€ ì£¼í”¼í„° ë…¸íŠ¸ë¶ ë””ë ‰í† ë¦¬ì™€ ì¼ì¹˜í•œë‹¤.
  - ë¹„ë°€ë²ˆí˜¸ì˜ ê²½ìš° dockerfileë“±ì˜ í˜•íƒœë¡œ ë§Œë“¤ì–´ ì•ˆì—ì„œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì €ì¥í•˜ëŠ” ìœ„ì¹˜ì—ì„œ ë³€ê²½í•˜ë„ë¡ ì •ì˜í•´ì•¼ ì‹¤í–‰í•  ë•Œë¶€í„° ë¹„ë°€ë²ˆí˜¸ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
  - (c.notebookapp.password ë¼ê³  í•œë‹¤)
 

# 5. ê¸°íƒ€ 
  - container ë° image ìƒíƒœ
</code></pre></div></div>
<p>docker ps
 docker ps -a # ì •ì§€ëœ ì»¨í…Œì´ë„ˆ ê¹Œì§€ ë³´ê¸°</p>

<p>docker images ( ë˜ëŠ” docker image ls)</p>

<p>docker rm [container_id or name]
 docker rmi [image name]</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 
  - fileì•ˆì—ì„œ bridge, network, ipë“±ì„ ì¡°ì‚¬
</code></pre></div></div>
<p>docker inspect [container_id] &gt; file</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  - network    
  
</code></pre></div></div>
<p>docker network create mynet
 docker network connect mynet [container_id or name]</p>

<p>docker network ls</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  - volumne
  
</code></pre></div></div>
<p>docker volume create myvolume
 docker volume inspect myvolume
 docker volume ls
 docker volume rm myvolume
 ```</p>
:ET